<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>32.1. Debug Markers</title><link rel="stylesheet" type="text/css" href="config/vkspec-xhtml.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Vulkan 1.0.30 - A Specification (with WSI extensions)" /><link rel="up" href="ch32.html" title="Chapter 32. Debugging" /><link rel="prev" href="ch32.html" title="Chapter 32. Debugging" /><link rel="next" href="ch32s02.html" title="32.2. Debug Report Callbacks" /><script xmlns="" type="text/x-mathjax-config">
        MathJax.Hub.Config({
            MathML: { extensions: ["content-mathml.js"] },
            tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] }
        });
    </script><script xmlns="" type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ch32.html"><img src="images/icons/prev.png" alt="Prev" /></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch32s02.html"><img src="images/icons/next.png" alt="Next" /></a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="debugging-debug-markers"></a>32.1. Debug Markers</h2></div></div></div><p>Debug markers provide a flexible way for debugging and validation layers to
receive annotation and debug information.</p><p>The <a class="link" href="ch32s01.html#debugging-object-annotation" title="32.1.1. Object Annotation">Object Annotation</a> section describes how
to associate a name or binary data with a Vulkan object.</p><p>The <a class="link" href="ch32s01.html#debugging-command-buffer-markers" title="32.1.2. Command Buffer Markers">Command Buffer Markers</a> section
describes how to associate logical elements of the scene with commands in
the command buffer.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="debugging-object-annotation"></a>32.1.1. Object Annotation</h3></div></div></div><p>The commands in this section allow application developers to associate
user-defined information with Vulkan objects at will.</p><p>An object can be given a user-friendly name by calling:</p><p><a id="vkDebugMarkerSetObjectNameEXT"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkDebugMarkerSetObjectNameEXT(
    VkDevice                                    device,
    VkDebugMarkerObjectNameInfoEXT*             pNameInfo);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the device that created the object.
</li><li class="listitem">
<em class="parameter"><code>pNameInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="ch32s01.html#VkDebugMarkerObjectNameInfoEXT">VkDebugMarkerObjectNameInfoEXT</a></code> structure specifying the parameters
    of the name to set on the object.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pNameInfo.object</code></em> <span class="normative">must</span> be a Vulkan object
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage (Implicit)</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pNameInfo</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkDebugMarkerObjectNameInfoEXT</code> structure
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>pNameInfo.object</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="ch02s06.html#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="ch02s06.html#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkDebugMarkerObjectNameInfoEXT</code> structure is defined as:</p><p><a id="VkDebugMarkerObjectNameInfoEXT"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDebugMarkerObjectNameInfoEXT {
    VkStructureType               sType;
    const void*                   pNext;
    VkDebugReportObjectTypeEXT    objectType;
    uint64_t                      object;
    const char*                   pObjectName;
} VkDebugMarkerObjectNameInfoEXT;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_DEBUG_MARKER_OBJECT_NAME_INFO_EXT</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>objectType</code></em> is a <code class="code"><a class="link" href="ch32s01.html#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a></code> specifying the
    type of the object to be named.
</li><li class="listitem">
<em class="parameter"><code>object</code></em> is the object to be named.
</li><li class="listitem">
<em class="parameter"><code>pObjectName</code></em> is a null-terminated UTF-8 string specifying the name
    to apply to <em class="parameter"><code>object</code></em>.
</li></ul></div><p>Applications <span class="normative">may</span> change the name associated with an object simply by
calling <span class="strong"><strong><code class="code">vkDebugMarkerSetObjectNameEXT</code></strong></span> again with a new string.
To remove a previously set name, <em class="parameter"><code>pName</code></em> <span class="normative">should</span> be set to an empty
string.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage (Implicit)</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_DEBUG_MARKER_OBJECT_NAME_INFO_EXT</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>objectType</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="ch32s01.html#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a></code> value
</li><li class="listitem">
<em class="parameter"><code>pObjectName</code></em> <span class="normative">must</span> be a null-terminated string
</li></ul></div></div><p>In addition to setting a name for an object, debugging and validation layers
may have uses for additional binary data on a per-object basis that has no
other place in the Vulkan API.
For example, a <code class="code">VkShaderModule</code> could have additional debugging data
attached to it to aid in offline shader tracing.
To attach data to an object, call:</p><p><a id="vkDebugMarkerSetObjectTagEXT"></a><strong> </strong>
</p><pre class="programlisting">VkResult vkDebugMarkerSetObjectTagEXT(
    VkDevice                                    device,
    VkDebugMarkerObjectTagInfoEXT*              pTagInfo);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> is the device that created the object.
</li><li class="listitem">
<em class="parameter"><code>pTagInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="ch32s01.html#VkDebugMarkerObjectTagInfoEXT">VkDebugMarkerObjectTagInfoEXT</a></code> structure specifying the parameters
    of the tag to attach to the object.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>pTagInfo.object</code></em> <span class="normative">must</span> be a Vulkan object
</li><li class="listitem">
<em class="parameter"><code>pTagInfo.tagName</code></em> <span class="normative">must</span> not be <code class="literal">0</code>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage (Implicit)</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>device</code></em> <span class="normative">must</span> be a valid <code class="code">VkDevice</code> handle
</li><li class="listitem">
<em class="parameter"><code>pTagInfo</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkDebugMarkerObjectTagInfoEXT</code> structure
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Host Synchronization</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Host access to <em class="parameter"><code>pTagInfo.object</code></em> <span class="normative">must</span> be externally synchronized
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Return Codes</strong></p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="ch02s06.html#fundamentals-successcodes" title="Success Codes">Success</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_SUCCESS</code>
</li></ul></div></dd><dt><span class="term">
<a class="link" href="ch02s06.html#fundamentals-errorcodes" title="Error codes">Failure</a>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_HOST_MEMORY</code>
</li><li class="listitem">
<code class="code">VK_ERROR_OUT_OF_DEVICE_MEMORY</code>
</li></ul></div></dd></dl></div></div><p>The <code class="code">VkDebugMarkerObjectTagInfoEXT</code> structure is defined as:</p><p><a id="VkDebugMarkerObjectTagInfoEXT"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDebugMarkerObjectTagInfoEXT {
    VkStructureType               sType;
    const void*                   pNext;
    VkDebugReportObjectTypeEXT    objectType;
    uint64_t                      object;
    uint64_t                      tagName;
    size_t                        tagSize;
    const void*                   pTag;
} VkDebugMarkerObjectTagInfoEXT;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_DEBUG_MARKER_OBJECT_TAG_INFO_EXT</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>objectType</code></em> is a <code class="code"><a class="link" href="ch32s01.html#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a></code> specifying the
    type of the object to be named.
</li><li class="listitem">
<em class="parameter"><code>object</code></em> is the object to be tagged.
</li><li class="listitem">
<em class="parameter"><code>tagName</code></em> is a numerical identifier of the tag.
</li><li class="listitem">
<em class="parameter"><code>tagSize</code></em> is the number of bytes of data to attach to the object.
</li><li class="listitem">
<em class="parameter"><code>pTag</code></em> is an array of <em class="parameter"><code>tagSize</code></em> bytes containing the data to be
    associated with the object.
</li></ul></div><p>The <em class="parameter"><code>tagName</code></em> parameter gives a name or identifier to the type of data
being tagged.
This can be used by debugging layers to easily filter for only data that can
be used by that implementation.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage (Implicit)</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_DEBUG_MARKER_OBJECT_TAG_INFO_EXT</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>objectType</code></em> <span class="normative">must</span> be a valid <code class="code"><a class="link" href="ch32s01.html#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a></code> value
</li><li class="listitem">
<em class="parameter"><code>pTag</code></em> <span class="normative">must</span> be a pointer to an array of <em class="parameter"><code>tagSize</code></em> bytes
</li><li class="listitem">
<em class="parameter"><code>tagSize</code></em> <span class="normative">must</span> be greater than <code class="literal">0</code>
</li></ul></div></div><p><code class="code"><a class="link" href="ch32s01.html#VkDebugReportObjectTypeEXT">VkDebugReportObjectTypeEXT</a></code> specifies the type of an object passed to
the <code class="code"><a class="link" href="ch32s01.html#VkDebugMarkerObjectNameInfoEXT">VkDebugMarkerObjectNameInfoEXT</a></code> and
<code class="code"><a class="link" href="ch32s01.html#VkDebugMarkerObjectTagInfoEXT">VkDebugMarkerObjectTagInfoEXT</a></code> commands.</p><p><a id="VkDebugReportObjectTypeEXT"></a><strong> </strong>
</p><pre class="programlisting">typedef enum VkDebugReportObjectTypeEXT {
    VK_DEBUG_REPORT_OBJECT_TYPE_UNKNOWN_EXT = 0,
    VK_DEBUG_REPORT_OBJECT_TYPE_INSTANCE_EXT = 1,
    VK_DEBUG_REPORT_OBJECT_TYPE_PHYSICAL_DEVICE_EXT = 2,
    VK_DEBUG_REPORT_OBJECT_TYPE_DEVICE_EXT = 3,
    VK_DEBUG_REPORT_OBJECT_TYPE_QUEUE_EXT = 4,
    VK_DEBUG_REPORT_OBJECT_TYPE_SEMAPHORE_EXT = 5,
    VK_DEBUG_REPORT_OBJECT_TYPE_COMMAND_BUFFER_EXT = 6,
    VK_DEBUG_REPORT_OBJECT_TYPE_FENCE_EXT = 7,
    VK_DEBUG_REPORT_OBJECT_TYPE_DEVICE_MEMORY_EXT = 8,
    VK_DEBUG_REPORT_OBJECT_TYPE_BUFFER_EXT = 9,
    VK_DEBUG_REPORT_OBJECT_TYPE_IMAGE_EXT = 10,
    VK_DEBUG_REPORT_OBJECT_TYPE_EVENT_EXT = 11,
    VK_DEBUG_REPORT_OBJECT_TYPE_QUERY_POOL_EXT = 12,
    VK_DEBUG_REPORT_OBJECT_TYPE_BUFFER_VIEW_EXT = 13,
    VK_DEBUG_REPORT_OBJECT_TYPE_IMAGE_VIEW_EXT = 14,
    VK_DEBUG_REPORT_OBJECT_TYPE_SHADER_MODULE_EXT = 15,
    VK_DEBUG_REPORT_OBJECT_TYPE_PIPELINE_CACHE_EXT = 16,
    VK_DEBUG_REPORT_OBJECT_TYPE_PIPELINE_LAYOUT_EXT = 17,
    VK_DEBUG_REPORT_OBJECT_TYPE_RENDER_PASS_EXT = 18,
    VK_DEBUG_REPORT_OBJECT_TYPE_PIPELINE_EXT = 19,
    VK_DEBUG_REPORT_OBJECT_TYPE_DESCRIPTOR_SET_LAYOUT_EXT = 20,
    VK_DEBUG_REPORT_OBJECT_TYPE_SAMPLER_EXT = 21,
    VK_DEBUG_REPORT_OBJECT_TYPE_DESCRIPTOR_POOL_EXT = 22,
    VK_DEBUG_REPORT_OBJECT_TYPE_DESCRIPTOR_SET_EXT = 23,
    VK_DEBUG_REPORT_OBJECT_TYPE_FRAMEBUFFER_EXT = 24,
    VK_DEBUG_REPORT_OBJECT_TYPE_COMMAND_POOL_EXT = 25,
    VK_DEBUG_REPORT_OBJECT_TYPE_SURFACE_KHR_EXT = 26,
    VK_DEBUG_REPORT_OBJECT_TYPE_SWAPCHAIN_KHR_EXT = 27,
    VK_DEBUG_REPORT_OBJECT_TYPE_DEBUG_REPORT_EXT = 28,
} VkDebugReportObjectTypeEXT;</pre><p>
</p><p>The possible values are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_UNKNOWN_EXT</code> is an unknown object.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_INSTANCE_EXT</code> is a <code class="code">VkInstance</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_PHYSICAL_DEVICE_EXT</code> is a
    <code class="code">VkPhysicalDevice</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_DEVICE_EXT</code> is a <code class="code">VkDevice</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_QUEUE_EXT</code> is a <code class="code">VkQueue</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_SEMAPHORE_EXT</code> is a <code class="code">VkSemaphore</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_COMMAND_BUFFER_EXT</code> is a
    <code class="code">VkCommandBuffer</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_FENCE_EXT</code> is a <code class="code">VkFence</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_DEVICE_MEMORY_EXT</code> is a
    <code class="code">VkDeviceMemory</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_BUFFER_EXT</code> is a <code class="code">VkBuffer</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_IMAGE_EXT</code> is a <code class="code">VkImage</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_EVENT_EXT</code> is a <code class="code">VkEvent</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_QUERY_POOL_EXT</code> is a <code class="code">VkQueryPool</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_BUFFER_VIEW_EXT</code> is a
    <code class="code">VkBufferView</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_IMAGE_VIEW_EXT</code> is a <code class="code">VkImageView</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_SHADER_MODULE_EXT</code> is a
    <code class="code">VkShaderModule</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_PIPELINE_CACHE_EXT</code> is a
    <code class="code">VkPipelineCache</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_PIPELINE_LAYOUT_EXT</code> is a
    <code class="code">VkPipelineLayout</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_RENDER_PASS_EXT</code> is a
    <code class="code">VkRenderPass</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_PIPELINE_EXT</code> is a <code class="code">VkPipeline</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_DESCRIPTOR_SET_LAYOUT_EXT</code> is a
    <code class="code">VkDescriptorSetLayout</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_SAMPLER_EXT</code> is a <code class="code">VkSampler</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_DESCRIPTOR_POOL_EXT</code> is a
    <code class="code">VkDescriptorPool</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_DESCRIPTOR_SET_EXT</code> is a
    <code class="code">VkDescriptorSet</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_FRAMEBUFFER_EXT</code> is a
    <code class="code">VkFramebuffer</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_COMMAND_POOL_EXT</code> is a
    <code class="code">VkCommandPool</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_SURFACE_KHR_EXT</code> is a
    <code class="code">VkSurfaceKHR</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_SWAPCHAIN_KHR_EXT</code> is a
    <code class="code">VkSwapchainKHR</code>.
</li><li class="listitem">
<code class="code">VK_DEBUG_REPORT_OBJECT_TYPE_DEBUG_REPORT_EXT</code> is a
    <code class="code">VkDebugReportCallbackEXT</code>.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="debugging-command-buffer-markers"></a>32.1.2. Command Buffer Markers</h3></div></div></div><p>Typical Vulkan applications will submit many command buffers in each frame,
with each command buffer containing a large number of individual commands.
Being able to logically annotate regions of command buffers that belong
together as well as hierarchically subdivide the frame is important to a
developer’s ability to navigate the commands viewed holistically.</p><p>The marker commands <span class="strong"><strong><code class="code">vkCmdDebugMarkerBeginEXT</code></strong></span> and
<span class="strong"><strong><code class="code">vkCmdDebugMarkerEndEXT</code></strong></span> define regions of a series of commands that are
grouped together, and they can be nested to create a hierarchy.
The <span class="strong"><strong><code class="code">vkCmdDebugMarkerInsertEXT</code></strong></span> command allows insertion of a single
label within a command buffer.</p><p>A marker region can be opened by calling:</p><p><a id="vkCmdDebugMarkerBeginEXT"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdDebugMarkerBeginEXT(
    VkCommandBuffer                             commandBuffer,
    VkDebugMarkerMarkerInfoEXT*                 pMarkerInfo);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li><li class="listitem">
<em class="parameter"><code>pMarkerInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="ch32s01.html#VkDebugMarkerMarkerInfoEXT">VkDebugMarkerMarkerInfoEXT</a></code> structure specifying the parameters of
    the marker region to open.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage (Implicit)</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pMarkerInfo</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkDebugMarkerMarkerInfoEXT</code> structure
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table class="informaltable" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p>The <code class="code">VkDebugMarkerMarkerInfoEXT</code> structure is defined as:</p><p><a id="VkDebugMarkerMarkerInfoEXT"></a><strong> </strong>
</p><pre class="programlisting">typedef struct VkDebugMarkerMarkerInfoEXT {
    VkStructureType    sType;
    const void*        pNext;
    const char*        pMarkerName;
    float              color[4];
} VkDebugMarkerMarkerInfoEXT;</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> is the type of this structure and <span class="normative">must</span> be
    <code class="code">VK_STRUCTURE_TYPE_DEBUG_MARKER_MARKER_INFO_EXT</code>.
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> is <code class="literal">NULL</code> or a pointer to an extension-specific structure.
</li><li class="listitem">
<em class="parameter"><code>pMarkerName</code></em> is a pointer to a null-terminated UTF-8 string that
    contains the name of the marker.
</li><li class="listitem">
<em class="parameter"><code>color</code></em> is an optional RGBA color value that can be associated with
    the marker.
    A particular implementation <span class="normative">may</span> choose to ignore this color value.
    The values contain RGBA values in order, in the range 0.0 to 1.0.
    If all elements in <em class="parameter"><code>color</code></em> are set to 0.0 then it is ignored.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage (Implicit)</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>sType</code></em> <span class="normative">must</span> be <code class="code">VK_STRUCTURE_TYPE_DEBUG_MARKER_MARKER_INFO_EXT</code>
</li><li class="listitem">
<em class="parameter"><code>pNext</code></em> <span class="normative">must</span> be <code class="literal">NULL</code>
</li><li class="listitem">
<em class="parameter"><code>pMarkerName</code></em> <span class="normative">must</span> be a null-terminated string
</li></ul></div></div><p>A marker region can be closed by calling:</p><p><a id="vkCmdDebugMarkerEndEXT"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdDebugMarkerEndEXT(
    VkCommandBuffer                             commandBuffer);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li></ul></div><p>An application <span class="normative">may</span> open a marker region in one command buffer and close it
in another, or otherwise split marker regions across multiple command
buffers or multiple queue submissions.
When viewed from the linear series of submissions to a single queue, the
calls to <span class="strong"><strong><code class="code">vkCmdDebugMarkerBeginEXT</code></strong></span> and <span class="strong"><strong><code class="code">vkCmdDebugMarkerEndEXT</code></strong></span>
<span class="normative">must</span> be matched and balanced.</p><p>Any calls to <span class="strong"><strong><code class="code">vkCmdDebugMarkerBeginEXT</code></strong></span> within a secondary command
buffer must have a matching <span class="strong"><strong><code class="code">vkCmdDebugMarkerEndEXT</code></strong></span> in that same
command buffer, and marker regions begun outside of the secondary command
buffer must not be ended inside it.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
There <span class="normative">must</span> be an outstanding <code class="code"><a class="link" href="ch32s01.html#vkCmdDebugMarkerBeginEXT">vkCmdDebugMarkerBeginEXT</a></code> command
    prior to the <span class="strong"><strong><code class="code">vkCmdDebugMarkerEndEXT</code></strong></span> on the queue that
    <em class="parameter"><code>commandBuffer</code></em> is submitted to
</li><li class="listitem">
If the matching <code class="code"><a class="link" href="ch32s01.html#vkCmdDebugMarkerBeginEXT">vkCmdDebugMarkerBeginEXT</a></code> command was in a
    secondary command buffer, the <span class="strong"><strong><code class="code">vkCmdDebugMarkerEndEXT</code></strong></span> must be in
    the same <em class="parameter"><code>commandBuffer</code></em>
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage (Implicit)</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table class="informaltable" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div><p>A single marker label can be inserted into a command buffer by calling:</p><p><a id="vkCmdDebugMarkerInsertEXT"></a><strong> </strong>
</p><pre class="programlisting">void vkCmdDebugMarkerInsertEXT(
    VkCommandBuffer                             commandBuffer,
    VkDebugMarkerMarkerInfoEXT*                 pMarkerInfo);</pre><p>
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> is the command buffer into which the command is
    recorded.
</li><li class="listitem">
<em class="parameter"><code>pMarkerInfo</code></em> is a pointer to an instance of the
    <code class="code"><a class="link" href="ch32s01.html#VkDebugMarkerMarkerInfoEXT">VkDebugMarkerMarkerInfoEXT</a></code> structure specifying the parameters of
    the marker to insert.
</li></ul></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Valid Usage (Implicit)</strong></p></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be a valid <code class="code">VkCommandBuffer</code> handle
</li><li class="listitem">
<em class="parameter"><code>pMarkerInfo</code></em> <span class="normative">must</span> be a pointer to a <code class="code">VkDebugMarkerMarkerInfoEXT</code> structure
</li><li class="listitem">
<em class="parameter"><code>commandBuffer</code></em> <span class="normative">must</span> be in the recording state
</li><li class="listitem">
The <code class="code">VkCommandPool</code> that <em class="parameter"><code>commandBuffer</code></em> was allocated from <span class="normative">must</span> support graphics, or compute operations
</li></ul></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Command Properties</strong></p></div></div></div><div class="informaltable"><table class="informaltable" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Command Buffer Levels</th><th style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top">Render Pass Scope</th><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">Supported Queue Types</th></tr></thead><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Primary
Secondary</p></td><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Both</p></td><td style="" align="left" valign="top"><p>GRAPHICS
COMPUTE</p></td></tr></tbody></table></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch32.html"><img src="images/icons/prev.png" alt="Prev" /></a> </td><td width="20%" align="center"><a accesskey="u" href="ch32.html"><img src="images/icons/up.png" alt="Up" /></a></td><td width="40%" align="right"> <a accesskey="n" href="ch32s02.html"><img src="images/icons/next.png" alt="Next" /></a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/icons/home.png" alt="Home" /></a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>