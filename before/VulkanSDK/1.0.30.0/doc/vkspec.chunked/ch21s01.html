<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>21.1. Tessellator</title><link rel="stylesheet" type="text/css" href="config/vkspec-xhtml.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Vulkan 1.0.30 - A Specification (with WSI extensions)" /><link rel="up" href="ch21.html" title="Chapter 21. Tessellation" /><link rel="prev" href="ch21.html" title="Chapter 21. Tessellation" /><link rel="next" href="ch21s02.html" title="21.2. Tessellator Patch Discard" /><script xmlns="" type="text/x-mathjax-config">
        MathJax.Hub.Config({
            MathML: { extensions: ["content-mathml.js"] },
            tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] }
        });
    </script><script xmlns="" type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ch21.html"><img src="images/icons/prev.png" alt="Prev" /></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch21s02.html"><img src="images/icons/next.png" alt="Next" /></a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_tessellator"></a>21.1. Tessellator</h2></div></div></div><p>If a pipeline includes both tessellation shaders (control and evaluation),
the tessellator consumes each input patch (after vertex shading) and
produces a new set of independent primitives (points, lines, or triangles).
These primitives are logically produced by subdividing a geometric primitive
(rectangle or triangle) according to the per-patch outer and inner
tessellation levels written by the tessellation control shader.
These levels are specified using the <a class="link" href="ch14s06.html" title="14.6. Built-In Variables">built-in variables</a> <span class="strong"><strong><code class="code">TessLevelOuter</code></strong></span> and <span class="strong"><strong><code class="code">TessLevelInner</code></strong></span>, respectively.
This subdivision is performed in an implementation-dependent manner.
If no tessellation shaders are present in the pipeline, the tessellator is
disabled and incoming primitives are passed through without modification.</p><p>The type of subdivision performed by the tessellator is specified by an
<span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span> instruction in the tessellation evaluation or
tessellation control shader using one of execution modes <span class="strong"><strong><code class="code">Triangles</code></strong></span>,
<span class="strong"><strong><code class="code">Quads</code></strong></span>, and <span class="strong"><strong><code class="code">IsoLines</code></strong></span>.
Other tessellation-related execution modes <span class="normative">can</span> also be specified in either
the tessellation control or tessellation evaluation shaders, and if they are
specified in both then the modes <span class="normative">must</span> be the same.</p><p>Tessellation execution modes include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="strong"><strong><code class="code">Triangles</code></strong></span>, <span class="strong"><strong><code class="code">Quads</code></strong></span>, and <span class="strong"><strong><code class="code">IsoLines</code></strong></span>.
    These control the type of subdivision and topology of the output
    primitives.
    One mode <span class="normative">must</span> be set in at least one of the tessellation shader stages.
</li><li class="listitem">
<span class="strong"><strong><code class="code">VertexOrderCw</code></strong></span> and <span class="strong"><strong><code class="code">VertexOrderCcw</code></strong></span>.
    These control the orientation of triangles generated by the tessellator.
    One mode <span class="normative">must</span> be set in at least one of the tessellation shader stages.
</li><li class="listitem">
<span class="strong"><strong><code class="code">PointMode</code></strong></span>.
    Controls generation of points rather than triangles or lines.
    This functionality defaults to disabled, and is enabled if either shader
    stage includes the execution mode.
</li><li class="listitem">
<span class="strong"><strong><code class="code">SpacingEqual</code></strong></span>, <span class="strong"><strong><code class="code">SpacingFractionalEven</code></strong></span>, and
    <span class="strong"><strong><code class="code">SpacingFractionalOdd</code></strong></span>.
    Controls the spacing of segments on the edges of tessellated primitives.
    One mode <span class="normative">must</span> be set in at least one of the tessellation shader stages.
</li><li class="listitem">
<span class="strong"><strong><code class="code">OutputVertices</code></strong></span>.
    Controls the size of the output patch of the tessellation control
    shader.
    One value <span class="normative">must</span> be set in at least one of the tessellation shader
    stages.
</li></ul></div><p>For triangles, the tessellator subdivides a triangle primitive into smaller
triangles.
For quads, the tessellator subdivides a rectangle primitive into smaller
triangles.
For isolines, the tessellator subdivides a rectangle primitive into a
collection of line segments arranged in strips stretching across the
rectangle in the <span class="eq">u</span> dimension (i.e. the coordinates in <span class="strong"><strong><code class="code">TessCoord</code></strong></span>
are of the form (0,x) through (1,x) for all tessellation evaluation shader
invocations that share a line).</p><p>Each vertex produced by the tessellator has an associated (u,v,w) or (u,v)
position in a normalized parameter space, with parameter values in the range
<span class="eq">[0,1]</span>, as illustrated in figure <a class="xref" href="ch21s01.html#img-tessellation-topology" title="Figure 21.1. Domain parameterization for tessellation primitive modes">Figure 21.1, “Domain parameterization for tessellation primitive modes”</a>.</p><div class="figure"><a id="img-tessellation-topology"></a><p class="title"><strong>Figure 21.1. Domain parameterization for tessellation primitive modes</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/tessparam.svg" align="middle" width="800" alt="images/tessparam.svg" /></div></div></div><br class="figure-break" /><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Caption</strong></p></div></div></div><p>In the <a class="link" href="ch21s01.html#img-tessellation-topology" title="Figure 21.1. Domain parameterization for tessellation primitive modes">Domain parameterization</a> diagram, the
coordinates illustrate the value of <span class="strong"><strong><code class="code">TessCoord</code></strong></span> at the corners of the
domain.
The labels on the edges indicate the inner (IL0 and IL1) and outer (OL0
through OL3) tessellation level values used to control the number of
subdivisions along each edge of the domain.</p></div><p>For triangles, the vertex’s position is a barycentric coordinate (u,v,w),
where u + v + w = 1.0, and indicates the relative influence of the three
vertices of the triangle on the position of the vertex.
For quads and isolines, the position is a (u,v) coordinate indicating the
relative horizontal and vertical position of the vertex relative to the
subdivided rectangle.
The subdivision process is explained in more detail in subsequent sections.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch21.html"><img src="images/icons/prev.png" alt="Prev" /></a> </td><td width="20%" align="center"><a accesskey="u" href="ch21.html"><img src="images/icons/up.png" alt="Up" /></a></td><td width="40%" align="right"> <a accesskey="n" href="ch21s02.html"><img src="images/icons/next.png" alt="Next" /></a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/icons/home.png" alt="Home" /></a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>