<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>8.9. Fragment Shaders</title><link rel="stylesheet" type="text/css" href="config/vkspec-xhtml.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Vulkan 1.0.30 - A Specification (with WSI extensions)" /><link rel="up" href="ch08.html" title="Chapter 8. Shaders" /><link rel="prev" href="ch08s08.html" title="8.8. Geometry Shaders" /><link rel="next" href="ch08s10.html" title="8.10. Compute Shaders" /><script xmlns="" type="text/x-mathjax-config">
        MathJax.Hub.Config({
            MathML: { extensions: ["content-mathml.js"] },
            tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] }
        });
    </script><script xmlns="" type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ch08s08.html"><img src="images/icons/prev.png" alt="Prev" /></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch08s10.html"><img src="images/icons/next.png" alt="Next" /></a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-fragment"></a>8.9. Fragment Shaders</h2></div></div></div><p>Fragment shaders are invoked as the result of rasterization in a graphics
pipeline.
Each fragment shader invocation operates on a single fragment and its
associated data.
With few exceptions, fragment shaders do not have access to any data
associated with other fragments and are considered to execute in isolation
of fragment shader invocations associated with other fragments.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="shaders-fragment-execution"></a>8.9.1. Fragment Shader Execution</h3></div></div></div><p>For each fragment generated by rasterization, a fragment shader <span class="normative">may</span> be
invoked.
A fragment shader <span class="normative">must</span> not be invoked if the <a class="link" href="ch25s01.html" title="25.1. Early Per-Fragment Tests">Early Per-Fragment Tests</a> cause it to have no coverage.</p><p>Furthermore, if it is determined that a fragment generated as the result of
rasterizing a first primitive will have its outputs entirely overwritten by
a fragment generated as the result of rasterizing a second primitive in the
same subpass, and the fragment shader used for the fragment has no other
side effects, then the fragment shader <span class="normative">may</span> not be executed for the fragment
from the first primitive.</p><p>Relative ordering of execution of different fragment shader invocations is
not defined.</p><p>The number of fragment shader invocations produced per-pixel is determined
as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
If per-sample shading is enabled, the fragment shader is invoked once
    per covered sample.
</li><li class="listitem">
Otherwise, the fragment shader is invoked at least once per fragment but
    no more than once per covered sample.
</li></ul></div><p>In addition to the conditions outlined above for the invocation of a
fragment shader, a fragment shader invocation <span class="normative">may</span> be produced as a <span class="emphasis"><em>helper
invocation</em></span>.
A helper invocation is a fragment shader invocation that is created solely
for the purposes of evaluating derivatives for use in non-helper fragment
shader invocations.
Stores and atomics performed by helper invocations <span class="normative">must</span> not have any effect
on memory, and values returned by atomic instructions in helper invocations
are undefined.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="shaders-fragment-earlytest"></a>8.9.2. Early Fragment Tests</h3></div></div></div><p>An explicit control is provided to allow fragment shaders to enable early
fragment tests.
If the fragment shader specifies the <span class="strong"><strong><code class="code">EarlyFragmentTests</code></strong></span>
<span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span>, the per-fragment tests described in
<a class="link" href="ch25s04.html" title="25.4. Early Fragment Test Mode">Early Fragment Test Mode</a> are performed prior to
fragment shader execution.
Otherwise, they are performed after fragment shader execution.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08s08.html"><img src="images/icons/prev.png" alt="Prev" /></a> </td><td width="20%" align="center"><a accesskey="u" href="ch08.html"><img src="images/icons/up.png" alt="Up" /></a></td><td width="40%" align="right"> <a accesskey="n" href="ch08s10.html"><img src="images/icons/next.png" alt="Next" /></a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/icons/home.png" alt="Home" /></a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>