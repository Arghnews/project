<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>8.6. Tessellation Control Shaders</title><link rel="stylesheet" type="text/css" href="config/vkspec-xhtml.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Vulkan 1.0.30 - A Specification (with WSI extensions)" /><link rel="up" href="ch08.html" title="Chapter 8. Shaders" /><link rel="prev" href="ch08s05.html" title="8.5. Vertex Shaders" /><link rel="next" href="ch08s07.html" title="8.7. Tessellation Evaluation Shaders" /><script xmlns="" type="text/x-mathjax-config">
        MathJax.Hub.Config({
            MathML: { extensions: ["content-mathml.js"] },
            tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] }
        });
    </script><script xmlns="" type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ch08s05.html"><img src="images/icons/prev.png" alt="Prev" /></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch08s07.html"><img src="images/icons/next.png" alt="Next" /></a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shaders-tessellation-control"></a>8.6. Tessellation Control Shaders</h2></div></div></div><p>The tessellation control shader is used to read an input patch provided by
the application and to produce an output patch.
Each tessellation control shader invocation operates on an input patch
(after all control points in the patch are processed by a vertex shader) and
its associated data, and outputs a single control point of the output patch
and its associated data, and <span class="normative">can</span> also output additional per-patch data.
The input patch is sized according to the <em class="parameter"><code>patchControlPoints</code></em> member of
<code class="code"><a class="link" href="ch21s07.html#VkPipelineTessellationStateCreateInfo">VkPipelineTessellationStateCreateInfo</a></code>, as part of input assembly.
The size of the output patch is controlled by the <span class="strong"><strong><code class="code">OpExecutionMode</code></strong></span>
<span class="strong"><strong><code class="code">OutputVertices</code></strong></span> specified in the tessellation control or tessellation
evaluation shaders, which <span class="normative">must</span> be specified in at least one of the shaders.
The size of the input and output patches <span class="normative">must</span> each be greater than zero and
less than or equal to
<code class="code">VkPhysicalDeviceLimits</code>::<em class="parameter"><code>maxTessellationPatchSize</code></em>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="shaders-tessellation-control-execution"></a>8.6.1. Tessellation Control Shader Execution</h3></div></div></div><p>A tessellation control shader is invoked at least once for each <span class="emphasis"><em>output</em></span>
vertex in a patch.</p><p>Inputs to the tessellation control shader are generated by the vertex
shader.
Each invocation of the tessellation control shader <span class="normative">can</span> read the attributes
of any incoming vertices and their associated data.
The invocations corresponding to a given patch execute logically in
parallel, with undefined relative execution order.
However, the <span class="strong"><strong><code class="code">OpControlBarrier</code></strong></span> instruction <span class="normative">can</span> be used to provide
limited control of the execution order by synchronizing invocations within a
patch, effectively dividing tessellation control shader execution into a set
of phases.
Tessellation control shaders will read undefined values if one invocation
reads a per-vertex or per-patch attribute written by another invocation at
any point during the same phase, or if two invocations attempt to write
different values to the same per-patch output in a single phase.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08s05.html"><img src="images/icons/prev.png" alt="Prev" /></a> </td><td width="20%" align="center"><a accesskey="u" href="ch08.html"><img src="images/icons/up.png" alt="Up" /></a></td><td width="40%" align="right"> <a accesskey="n" href="ch08s07.html"><img src="images/icons/next.png" alt="Next" /></a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/icons/home.png" alt="Home" /></a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>